<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data processing in ShinyLipids • ShinyLipids</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Data processing in ShinyLipids">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ShinyLipids</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Data-processing-in-ShinyLipids.html">Data processing in ShinyLipids</a>
    </li>
    <li>
      <a href="../articles/Getting-startet-with-my-data-in-ShinyLipids.html">Getting startet with my data in ShinyLipids</a>
    </li>
    <li>
      <a href="../articles/Technical-aspects.html">Technical aspects</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jannikbuhr/ShinyLipids">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Data processing in ShinyLipids</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jannikbuhr/ShinyLipids/blob/master/vignettes/Data-processing-in-ShinyLipids.Rmd"><code>vignettes/Data-processing-in-ShinyLipids.Rmd</code></a></small>
      <div class="hidden name"><code>Data-processing-in-ShinyLipids.Rmd</code></div>

    </div>

    
    
<div id="so-what-happens-to-my-data" class="section level1">
<h1 class="hasAnchor">
<a href="#so-what-happens-to-my-data" class="anchor"></a>So what happens to my data?…</h1>
<p>you might rightfully ask yourself when loading a dataset into ShinyLipids. Luckily, we expose the internals of ShinyLipids in the form of clearly named functions for you to use even outside of the app. If you want to learn more about <em>how exactly</em> things work underneath the hood, you can click at the individual functions to read their documentation or have a look at the source code. But for now, let’s explore the example data together. We will follow the steps that ShinyLipids takes and inspect intermediate results.</p>
<p>First, we load ShinyLipids</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ShinyLipids)</span></code></pre></div>
<p>We can get the file path to our example data, given that ShinyLipids is installed, and open up a database connection to the database dump file</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>path &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"extdata/exampleDatabase.db"</span>, <span class="dt">package =</span> <span class="st">"ShinyLipids"</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a>databaseConnection &lt;-<span class="st"> </span>DBI<span class="op">::</span><span class="kw"><a href="https://dbi.r-dbi.org/reference/dbConnect.html">dbConnect</a></span>(RSQLite<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/RSQLite/man/SQLite.html">SQLite</a></span>(), path)</span></code></pre></div>
<p>We see, that our example file contains two tables (their names are mandatory).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>DBI<span class="op">::</span><span class="kw"><a href="https://dbi.r-dbi.org/reference/dbListTables.html">dbListTables</a></span>(databaseConnection)</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co">#&gt; [1] "data2"   "id_info"</span></span></code></pre></div>
<p>From this connection, we load in our meta data “id_info” – information about the dataset(s) in the “data2” table:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>metaData &lt;-<span class="st"> </span><span class="kw"><a href="../reference/collectMetaData.html">collectMetaData</a></span>(databaseConnection)</span>
<span id="cb4-2"><a href="#cb4-2"></a>metaData</span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co">#&gt; # A tibble: 1 x 14</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">#&gt;      id title date_upload status sample_from date_sample extracted_by</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;             &lt;dbl&gt; &lt;chr&gt;       </span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">#&gt; 1     1 Exam…          NA in pr… Harry Pott…          NA Albus Dumbl…</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">#&gt; # … with 7 more variables: date_extraction &lt;dbl&gt;, measured_by &lt;chr&gt;,</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co">#&gt; #   date_measured &lt;dbl&gt;, distinct_samples &lt;int&gt;, data_lines &lt;int&gt;, file &lt;chr&gt;,</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co">#&gt; #   instruments &lt;chr&gt;</span></span></code></pre></div>
<p>We see, that our ownly dataset in the database has id <code>1</code>, so we use that id to collect the raw data and inspect the first 6 rows:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>rawData &lt;-<span class="st"> </span><span class="kw"><a href="../reference/collectRawData.html">collectRawData</a></span>(<span class="dt">con =</span> databaseConnection,</span>
<span id="cb5-2"><a href="#cb5-2"></a>                          <span class="dt">id =</span> <span class="dv">1</span>)</span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(rawData)</span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">#&gt; # A tibble: 6 x 9</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">#&gt;      id sample_identifi… lipid   value category func_cat sample sample_replicate</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;chr&gt;            &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;           </span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co">#&gt; 1     1 1Aa              Cer … 0.00590 SP       SP       1 - 0… 1 - 0min Stim_A </span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co">#&gt; 2     1 1Aa              Cer … 0.276   SP       SP       1 - 0… 1 - 0min Stim_A </span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="co">#&gt; 3     1 1Aa              Cer … 0.0497  SP       SP       1 - 0… 1 - 0min Stim_A </span></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="co">#&gt; 4     1 1Aa              Cer … 0.0690  SP       SP       1 - 0… 1 - 0min Stim_A </span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="co">#&gt; 5     1 1Aa              Cer … 0.00325 SP       SP       1 - 0… 1 - 0min Stim_A </span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="co">#&gt; 6     1 1Aa              Cer … 0.0219  SP       SP       1 - 0… 1 - 0min Stim_A </span></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="co">#&gt; # … with 1 more variable: sample_replicate_technical &lt;chr&gt;</span></span></code></pre></div>
<p>Next, we run the data processing steps.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>plotData &lt;-<span class="st"> </span>rawData <span class="op">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="st">  </span><span class="kw"><a href="../reference/imputeMissingIf.html">imputeMissingIf</a></span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="st">  </span><span class="kw"><a href="../reference/addLipidProperties.html">addLipidProperties</a></span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="st">  </span><span class="kw"><a href="../reference/standardizeWithinTechnicalReplicatesIf.html">standardizeWithinTechnicalReplicatesIf</a></span>(<span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="st">  </span><span class="kw"><a href="../reference/filterRawDataFor.html">filterRawDataFor</a></span>() <span class="op">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="st">  </span><span class="kw"><a href="../reference/standardizeRawDataWithin.html">standardizeRawDataWithin</a></span>() <span class="op">%&gt;%</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="st">  </span><span class="kw"><a href="../reference/createPlotData.html">createPlotData</a></span>()</span>
<span id="cb6-8"><a href="#cb6-8"></a></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(plotData)</span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="co">#&gt; # A tibble: 6 x 4</span></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="co">#&gt;   class sample         sample_replicate value</span></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="co">#&gt;   &lt;fct&gt; &lt;fct&gt;          &lt;fct&gt;            &lt;dbl&gt;</span></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="co">#&gt; 1 PC    1 - 0min Stim  1 - 0min Stim_A  0.567</span></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="co">#&gt; 2 PC    1 - 0min Stim  1 - 0min Stim_B  0.420</span></span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="co">#&gt; 3 PC    1 - 0min Stim  1 - 0min Stim_C  0.291</span></span>
<span id="cb6-16"><a href="#cb6-16"></a><span class="co">#&gt; 4 PC    1 - 0min Stim  1 - 0min Stim_D  1.22 </span></span>
<span id="cb6-17"><a href="#cb6-17"></a><span class="co">#&gt; 5 PC    2 - 10min Stim 2 - 10min Stim_A 0.235</span></span>
<span id="cb6-18"><a href="#cb6-18"></a><span class="co">#&gt; 6 PC    2 - 10min Stim 2 - 10min Stim_B 0.333</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>meanPlotData &lt;-<span class="st"> </span><span class="kw"><a href="../reference/summarisePlotData.html">summarisePlotData</a></span>(plotData)</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(meanPlotData)</span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co">#&gt; # A tibble: 6 x 8</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co">#&gt;   class sample            SD    SEM     N value CI_lower CI_upper</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="co">#&gt;   &lt;fct&gt; &lt;fct&gt;          &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;</span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="co">#&gt; 1 PC    1 - 0min Stim  0.412 0.103      4 0.624    0.296    0.952</span></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co">#&gt; 2 PC    2 - 10min Stim 0.194 0.0484     4 0.425    0.271    0.579</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="co">#&gt; 3 PC    3 - 6h Stim    0.129 0.0324     4 0.583    0.480    0.686</span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="co">#&gt; 4 PC    4 - 18h Stim   0.300 0.0750     4 0.728    0.489    0.967</span></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="co">#&gt; 5 PC O- 1 - 0min Stim  0.145 0.0363     4 0.333    0.218    0.448</span></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="co">#&gt; 6 PC O- 2 - 10min Stim 0.311 0.0777     4 0.429    0.181    0.676</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>plt &lt;-<span class="st"> </span><span class="kw"><a href="../reference/createMainPlot.html">createMainPlot</a></span>(<span class="dt">plotData            =</span> plotData,</span>
<span id="cb8-2"><a href="#cb8-2"></a>                      <span class="dt">meanPlotData        =</span> meanPlotData,</span>
<span id="cb8-3"><a href="#cb8-3"></a>                      <span class="dt">pairwiseComparisons =</span> <span class="ot">NULL</span>)</span>
<span id="cb8-4"><a href="#cb8-4"></a></span>
<span id="cb8-5"><a href="#cb8-5"></a>plt</span></code></pre></div>
<p><img src="Data-processing-in-ShinyLipids_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#so-what-happens-to-my-data">So what happens to my data?…</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://jmbuhr.de/">Jannik Buhr</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
